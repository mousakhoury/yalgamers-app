<script>
	import { t, locale } from '$lib/stores/i18n';

	import courseImg from '$lib/assets/content.png';

	export let clickHandler;
	export let thumbnail;
	export let timestamp;
	export let title;
	export let duration;
	export let lesson;
	export let playBtn = true;

	export let status = 'current';
</script>

<div
	class="cardCourse flex w-full gap-3 md:gap-[30px] rounded-md p-2 cursor-pointer flex-col md:flex-row ease-in duration-100 bg-transparent"
	on:click={clickHandler}
>
	<div class="left w-full md:w-[214px] relative">
		<img src={thumbnail} alt="" class="md:w-[214px] rounded-md md:w-[230px]" />
		{#if playBtn}
			<div
				class="status flex flex-col justify-center items-center absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%]"
			>
				{#if status === 'completed'}
					<svg
						width="40"
						height="40"
						viewBox="0 0 40 40"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="M17.457 22.7915L14.1654 19.4582C13.8043 19.1248 13.3598 18.9582 12.832 18.9582C12.3043 18.9582 11.8737 19.1248 11.5404 19.4582C11.1515 19.8471 10.957 20.3054 10.957 20.8332C10.957 21.361 11.1376 21.7776 11.4987 22.0832L16.1654 26.7498C16.4709 27.1109 16.8945 27.2915 17.4362 27.2915C17.9779 27.2915 18.4293 27.1109 18.7904 26.7498L28.332 17.2082C28.6654 16.8748 28.832 16.4512 28.832 15.9373C28.832 15.4234 28.6515 14.9721 28.2904 14.5832C27.9015 14.2498 27.4501 14.0832 26.9362 14.0832C26.4223 14.0832 25.9709 14.2637 25.582 14.6248L17.457 22.7915ZM20.0404 37.5415C17.5681 37.5415 15.2487 37.0971 13.082 36.2082C10.9154 35.3193 9.04731 34.0901 7.47787 32.5207C5.90842 30.9512 4.67925 29.0832 3.79036 26.9165C2.90148 24.7498 2.45703 22.4304 2.45703 19.9582C2.45703 17.5137 2.90148 15.2221 3.79036 13.0832C4.67925 10.9443 5.90842 9.08317 7.47787 7.49984C9.04731 5.9165 10.9154 4.67345 13.082 3.77067C15.2487 2.86789 17.5681 2.4165 20.0404 2.4165C22.4848 2.4165 24.7765 2.86789 26.9154 3.77067C29.0543 4.67345 30.9154 5.9165 32.4987 7.49984C34.082 9.08317 35.3251 10.9443 36.2279 13.0832C37.1306 15.2221 37.582 17.5276 37.582 19.9998C37.582 22.4443 37.1306 24.7498 36.2279 26.9165C35.3251 29.0832 34.082 30.9512 32.4987 32.5207C30.9154 34.0901 29.0543 35.3193 26.9154 36.2082C24.7765 37.0971 22.4848 37.5415 20.0404 37.5415Z"
							fill="#1FD031"
						/>
					</svg>
					<!--<p  dir={$locale == 'ar' ? 'rtl' : 'ltr'} class="text-[#1FD031]">Completed</p>-->
				{:else if status === 'current'}
					<svg
						width="40"
						height="40"
						viewBox="0 0 40 40"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="M15.7904 16.0832V23.9165C15.7904 24.6665 16.1237 25.229 16.7904 25.604C17.457 25.979 18.1098 25.9582 18.7487 25.5415L24.832 21.5832C25.4709 21.2221 25.7904 20.7012 25.7904 20.0207C25.7904 19.3401 25.4709 18.8054 24.832 18.4165L18.7487 14.4582C18.1098 14.0415 17.457 14.0276 16.7904 14.4165C16.1237 14.8054 15.7904 15.3609 15.7904 16.0832ZM19.9987 37.5415C17.6098 37.5415 15.339 37.0832 13.1862 36.1665C11.0334 35.2498 9.16537 33.9998 7.58203 32.4165C5.9987 30.8332 4.7487 28.9651 3.83203 26.8123C2.91536 24.6596 2.45703 22.3887 2.45703 19.9998C2.45703 17.5832 2.91536 15.3123 3.83203 13.1873C4.7487 11.0623 5.9987 9.20817 7.58203 7.62484C9.16537 6.0415 11.0334 4.77762 13.1862 3.83317C15.339 2.88873 17.6098 2.4165 19.9987 2.4165C22.4154 2.4165 24.6862 2.88873 26.8112 3.83317C28.9362 4.77762 30.7904 6.0415 32.3737 7.62484C33.957 9.20817 35.2209 11.0623 36.1654 13.1873C37.1098 15.3123 37.582 17.5832 37.582 19.9998C37.582 22.3887 37.1098 24.6596 36.1654 26.8123C35.2209 28.9651 33.957 30.8332 32.3737 32.4165C30.7904 33.9998 28.9362 35.2498 26.8112 36.1665C24.6862 37.0832 22.4154 37.5415 19.9987 37.5415Z"
							fill="#FDEB56"
						/>
					</svg>
					<!--<p  dir={$locale == 'ar' ? 'rtl' : 'ltr'} class="text-[#FDEB56]">Now Playing</p>-->
				{:else}
					<svg
						width="40"
						height="40"
						viewBox="0 0 40 40"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="M9.54167 37.417C8.51389 37.417 7.625 37.042 6.875 36.292C6.125 35.542 5.75 34.6531 5.75 33.6253V16.3337C5.75 15.2503 6.125 14.3406 6.875 13.6045C7.625 12.8684 8.51389 12.5003 9.54167 12.5003H11.75V9.41699C11.75 7.08366 12.5556 5.10449 14.1667 3.47949C15.7778 1.85449 17.7222 1.04199 20 1.04199C22.2778 1.04199 24.2222 1.85449 25.8333 3.47949C27.4444 5.10449 28.25 7.08366 28.25 9.41699V12.5003H30.4583C31.4861 12.5003 32.3819 12.8684 33.1458 13.6045C33.9097 14.3406 34.2917 15.2503 34.2917 16.3337V33.6253C34.2917 34.6531 33.9097 35.542 33.1458 36.292C32.3819 37.042 31.4861 37.417 30.4583 37.417H9.54167ZM20 28.1253C20.8889 28.1253 21.6319 27.8267 22.2292 27.2295C22.8264 26.6323 23.125 25.9031 23.125 25.042C23.125 24.2364 22.8264 23.5003 22.2292 22.8337C21.6319 22.167 20.8889 21.8337 20 21.8337C19.1111 21.8337 18.3681 22.167 17.7708 22.8337C17.1736 23.5003 16.875 24.2503 16.875 25.0837C16.875 25.917 17.1736 26.6323 17.7708 27.2295C18.3681 27.8267 19.1111 28.1253 20 28.1253ZM15.5417 12.5003H24.4583V9.41699C24.4583 8.08366 24.0278 6.99338 23.1667 6.14616C22.3056 5.29894 21.25 4.87533 20 4.87533C18.75 4.87533 17.6944 5.29894 16.8333 6.14616C15.9722 6.99338 15.5417 8.08366 15.5417 9.41699V12.5003Z"
							fill="white"
							fill-opacity="0.5"
						/>
					</svg>
					<!--<p  dir={$locale == 'ar' ? 'rtl' : 'ltr'} class="text-white-50">Now Playing</p>-->
				{/if}
			</div>
		{/if}
	</div>
	<div class="w-full md:w-[calc(100%-240px)] right flex justify-between items-start">
		<div class="flex flex-col justify-center gap-[10px]">
			<div
				class="duration w-fit flex justify-center items-center bg-white-30 text-white p-1 text-[14px] rounded-[2px]"
			>
				<p class="border-r-[1px] border-solid mr-[8px] pl-[12px]">Lesson {lesson} &nbsp</p>
				<span class="rounded-full">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="20"
						height="20"
						viewBox="0 0 20 20"
						fill="none"
					>
						<path
							fill-rule="evenodd"
							clip-rule="evenodd"
							d="M17.7096 10.0003C17.7096 14.2578 14.2588 17.7087 10.0013 17.7087C5.7438 17.7087 2.29297 14.2578 2.29297 10.0003C2.29297 5.74283 5.7438 2.29199 10.0013 2.29199C14.2588 2.29199 17.7096 5.74283 17.7096 10.0003Z"
							stroke="#FDEB56"
							stroke-width="1.4"
							stroke-linecap="round"
							stroke-linejoin="round"
						/>
						<path
							d="M12.8643 12.4524L9.72266 10.5782V6.53906"
							stroke="#FDEB56"
							stroke-width="1.4"
							stroke-linecap="round"
							stroke-linejoin="round"
						/>
					</svg>
				</span>
				<p dir={$locale == 'ar' ? 'rtl' : 'ltr'} class="px-2">{timestamp}</p>
			</div>
			<h3
				dir={$locale == 'ar' ? 'rtl' : 'ltr'}
				class="title text-[20px] text-[#E9E6EA] font-Gilroy-SemiBold"
			>
				{title}
			</h3>
		</div>
	</div>
</div>

<style>
	.cardCourse:hover {
		background: #fdeb561a;
	}
</style>
